import{c as $,a as U,i as c,b as l,F as S,d as b,s as L,t as m,o as k,r as F}from"./vendor.b77a3233.js";const I=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}};I();let s,g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});g.decode();let u=null;function w(){return(u===null||u.buffer!==s.memory.buffer)&&(u=new Uint8Array(s.memory.buffer)),u}function h(t,r){return g.decode(w().subarray(t,t+r))}let d=null;function y(){return(d===null||d.buffer!==s.memory.buffer)&&(d=new Int32Array(s.memory.buffer)),d}function O(t,r){return w().subarray(t/1,t/1+r)}Object.freeze({Dead:0,"0":"Dead",Alive:1,"1":"Alive"});class _{static __wrap(r){const i=Object.create(_.prototype);return i.ptr=r,i}__destroy_into_raw(){const r=this.ptr;return this.ptr=0,r}free(){const r=this.__destroy_into_raw();s.__wbg_universe_free(r)}static new(r,i){var n=s.universe_new(r,i);return _.__wrap(n)}render(){try{const n=s.__wbindgen_add_to_stack_pointer(-16);s.universe_render(n,this.ptr);var r=y()[n/4+0],i=y()[n/4+1];return h(r,i)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(r,i)}}to_byte_array(){try{const e=s.__wbindgen_add_to_stack_pointer(-16);s.universe_to_byte_array(e,this.ptr);var r=y()[e/4+0],i=y()[e/4+1],n=O(r,i).slice();return s.__wbindgen_free(r,i*1),n}finally{s.__wbindgen_add_to_stack_pointer(16)}}tick(){s.universe_tick(this.ptr)}}async function W(t,r){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,r)}catch(n){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const i=await t.arrayBuffer();return await WebAssembly.instantiate(i,r)}else{const i=await WebAssembly.instantiate(t,r);return i instanceof WebAssembly.Instance?{instance:i,module:t}:i}}async function v(t){typeof t>"u"&&(t=new URL("/assets/game_of_life_bg.4a53b10d.wasm",self.location));const r={};r.wbg={},r.wbg.__wbindgen_throw=function(e,a){throw new Error(h(e,a))},(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:i,module:n}=await W(await t,r);return s=i.exports,v.__wbindgen_wasm_module=n,s}const M=m('<label class="p-2">:<input class="m-2" type="number"></label>'),N=m('<div><div class="bg-slate-500 p-2"></div><div class="grid w-full h-screen"></div></div>'),R=m("<div></div>");await v();const E=()=>{const[t,r]=$({UniverseString:"",UniverseByteArray:new Uint8Array(0),width:50,height:50,speed:100});U(()=>{const n=_.new(t.height,t.width);let e=requestAnimationFrame(o),a;function o(){a=setTimeout(()=>{r({UniverseString:n.render(),UniverseByteArray:n.to_byte_array()}),n.tick(),e=requestAnimationFrame(o)},t.speed)}k(()=>{clearTimeout(a),cancelAnimationFrame(e),n.free()})});const i=n=>(()=>{const e=M.cloneNode(!0),a=e.firstChild,o=a.nextSibling;return c(e,()=>`${n.property[0].toUpperCase()}${n.property.slice(1,n.property.length)}`,a),o.addEventListener("change",f=>{const A=f.target,p=parseInt(A.value);p>0&&r({[n.property]:p})}),b(()=>o.value=t[n.property]),e})();return(()=>{const n=N.cloneNode(!0),e=n.firstChild,a=e.nextSibling;return c(e,l(i,{property:"width"}),null),c(e,l(i,{property:"height"}),null),c(e,l(i,{property:"speed"}),null),c(a,l(S,{get each(){return Array.from(t.UniverseByteArray)},children:o=>(()=>{const f=R.cloneNode(!0);return f.className=`${o?"bg-black":"bg-white"} h-full w-full`,f})()})),b(o=>L(a,`grid-template-columns: repeat(${t.width}, 1fr);`,o)),n})()},x=m('<div class="min-h-screen"></div>'),B=()=>(()=>{const t=x.cloneNode(!0);return c(t,l(E,{})),t})();F(()=>l(B,{}),document.getElementById("root"));
