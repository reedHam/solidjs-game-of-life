import{d as E,c as F,a as W,i as f,b as u,e as p,S,F as k,s as g,t as y,o as R,f as $,r as T}from"./vendor.377a4cdc.js";const j=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};j();let l,D=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});D.decode();let h=null;function N(){return(h===null||h.buffer!==l.memory.buffer)&&(h=new Uint8Array(l.memory.buffer)),h}function O(e,n){return D.decode(N().subarray(e,e+n))}let b=null;function v(){return(b===null||b.buffer!==l.memory.buffer)&&(b=new Int32Array(l.memory.buffer)),b}function B(e,n){return N().subarray(e/1,e/1+n)}Object.freeze({Dead:0,"0":"Dead",Alive:1,"1":"Alive"});class w{static __wrap(n){const o=Object.create(w.prototype);return o.ptr=n,o}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();l.__wbg_universe_free(n)}static new(n,o,s,t){var r=l.universe_new(n,o,s.codePointAt(0),t.codePointAt(0));return w.__wrap(r)}render(){try{const s=l.__wbindgen_add_to_stack_pointer(-16);l.universe_render(s,this.ptr);var n=v()[s/4+0],o=v()[s/4+1];return O(n,o)}finally{l.__wbindgen_add_to_stack_pointer(16),l.__wbindgen_free(n,o)}}to_byte_array(){try{const t=l.__wbindgen_add_to_stack_pointer(-16);l.universe_to_byte_array(t,this.ptr);var n=v()[t/4+0],o=v()[t/4+1],s=B(n,o).slice();return l.__wbindgen_free(n,o*1),s}finally{l.__wbindgen_add_to_stack_pointer(16)}}tick(){l.universe_tick(this.ptr)}}async function C(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(s){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const o=await e.arrayBuffer();return await WebAssembly.instantiate(o,n)}else{const o=await WebAssembly.instantiate(e,n);return o instanceof WebAssembly.Instance?{instance:o,module:e}:o}}async function I(e){typeof e>"u"&&(e=new URL("/assets/game_of_life_bg.8ddddb5f.wasm",self.location));const n={};n.wbg={},n.wbg.__wbindgen_throw=function(t,r){throw new Error(O(t,r))},(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:s}=await C(await e,n);return l=o.exports,I.__wbindgen_wasm_module=s,l}const q=y('<label class="p-2">:</label>'),P=y("<input>"),G=y('<input class="m-2" type="checkbox">'),z=y('<div class="bg-black"><div class="bg-slate-500 p-2"></div><div class="grid w-full h-screen justify-center justify-items-center"></div></div>'),K=y('<pre class="justify-center align-middle"></pre>'),H=y('<div class="h-full w-full"></div>'),J=y("<span></span>");await I();const Q=()=>{const[e,n]=F({UniverseString:"",UniverseByteArray:new Uint8Array(0),width:50,height:50,speed:100,color1:"#b7094c",color2:"#0091ad",char1:"\u25FB",char2:"\u25FC",stringDisplay:!1});W(()=>{const t=w.new(e.width,e.height,e.char1,e.char2);let r=requestAnimationFrame(c),d;function c(){d=setTimeout(()=>{n({UniverseString:t.render(),UniverseByteArray:t.to_byte_array()}),t.tick(),r=requestAnimationFrame(c)},e.speed)}R(()=>{clearTimeout(d),cancelAnimationFrame(r),t.free()})});const o=t=>(()=>{const r=q.cloneNode(!0),d=r.firstChild;return f(r,()=>`${t.text[0].toUpperCase()}${t.text.slice(1,t.text.length)}`,d),f(r,()=>t.children,null),r})(),s=t=>{const r=i=>{if(t.type==="number"){const a=i.target,m=parseInt(a.value);m>0&&n({[t.property]:m})}else n({[t.property]:i.target.value})};let d;const c=i=>{},_=i=>{clearTimeout(d),r(i)};return u(o,{get text(){return t.property},get children(){const i=P.cloneNode(!0);return i.$$mouseup=_,i.$$mousedown=c,i.$$input=r,i.addEventListener("change",r),p(a=>{const m=`m-2 ${t.class?` ${t.class}`:""}`,M=t.style,A=t.type,x=e[t.property],L=t.step,U=t.maxLength;return m!==a._v$&&(i.className=a._v$=m),a._v$2=g(i,M,a._v$2),A!==a._v$3&&$(i,"type",a._v$3=A),x!==a._v$4&&(i.value=a._v$4=x),L!==a._v$5&&$(i,"step",a._v$5=L),U!==a._v$6&&$(i,"maxlength",a._v$6=U),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),i}})};return(()=>{const t=z.cloneNode(!0),r=t.firstChild,d=r.nextSibling;return f(r,u(s,{property:"width",type:"number"}),null),f(r,u(s,{property:"height",type:"number"}),null),f(r,u(s,{property:"speed",type:"number",step:10}),null),f(r,u(o,{text:"String Display",get children(){const c=G.cloneNode(!0);return c.addEventListener("change",()=>n({stringDisplay:!e.stringDisplay})),p(()=>c.checked=e.stringDisplay),c}}),null),f(r,u(S,{get when(){return e.stringDisplay},get children(){return[u(s,{get style(){return`color:${e.color1}; border: 1px solid ${e.color1}`},class:"w-6 bg-transparent",property:"char1",type:"text",maxLength:1}),u(s,{get style(){return`color:${e.color2}; border: 1px solid ${e.color2}`},class:"w-6 bg-transparent",property:"char2",type:"text",maxLength:1})]}}),null),f(r,u(s,{property:"color1",type:"color"}),null),f(r,u(s,{property:"color2",type:"color"}),null),f(d,()=>u(S,{get when(){return e.stringDisplay},get fallback(){return u(k,{get each(){return Array.from(e.UniverseByteArray)},children:c=>(()=>{const _=H.cloneNode(!0);return p(i=>g(_,`background-color:${c?e.color1:e.color2}`,i)),_})()})},get children(){const c=K.cloneNode(!0);return f(c,u(k,{get each(){return e.UniverseString.split("")},children:_=>(()=>{const i=J.cloneNode(!0);return f(i,_),p(a=>g(i,`color: ${_===e.char1?e.color1:e.color2}`,a)),i})()})),c}})),p(c=>g(d,e.stringDisplay?"":`grid-template-columns: repeat(${e.width}, 1fr);`,c)),t})()};E(["input","mousedown","mouseup"]);const V=y('<div class="min-h-screen"></div>'),X=()=>(()=>{const e=V.cloneNode(!0);return f(e,u(Q,{})),e})();T(()=>u(X,{}),document.getElementById("root"));
