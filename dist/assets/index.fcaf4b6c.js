import{d as k,c as F,a as W,i as u,b as f,e as v,s as U,F as E,t as w,o as R,f as L,r as T}from"./vendor.a58dd703.js";const N=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}};N();let s,O=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});O.decode();let m=null;function S(){return(m===null||m.buffer!==s.memory.buffer)&&(m=new Uint8Array(s.memory.buffer)),m}function I(t,r){return O.decode(S().subarray(t,t+r))}let p=null;function b(){return(p===null||p.buffer!==s.memory.buffer)&&(p=new Int32Array(s.memory.buffer)),p}function x(t,r){return S().subarray(t/1,t/1+r)}Object.freeze({Dead:0,"0":"Dead",Alive:1,"1":"Alive"});class g{static __wrap(r){const o=Object.create(g.prototype);return o.ptr=r,o}__destroy_into_raw(){const r=this.ptr;return this.ptr=0,r}free(){const r=this.__destroy_into_raw();s.__wbg_universe_free(r)}static new(r,o){var n=s.universe_new(r,o);return g.__wrap(n)}render(){try{const n=s.__wbindgen_add_to_stack_pointer(-16);s.universe_render(n,this.ptr);var r=b()[n/4+0],o=b()[n/4+1];return I(r,o)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(r,o)}}to_byte_array(){try{const e=s.__wbindgen_add_to_stack_pointer(-16);s.universe_to_byte_array(e,this.ptr);var r=b()[e/4+0],o=b()[e/4+1],n=x(r,o).slice();return s.__wbindgen_free(r,o*1),n}finally{s.__wbindgen_add_to_stack_pointer(16)}}tick(){s.universe_tick(this.ptr)}}async function B(t,r){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,r)}catch(n){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const o=await t.arrayBuffer();return await WebAssembly.instantiate(o,r)}else{const o=await WebAssembly.instantiate(t,r);return o instanceof WebAssembly.Instance?{instance:o,module:t}:o}}async function M(t){typeof t>"u"&&(t=new URL("/assets/game_of_life_bg.4a53b10d.wasm",self.location));const r={};r.wbg={},r.wbg.__wbindgen_throw=function(e,i){throw new Error(I(e,i))},(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:o,module:n}=await B(await t,r);return s=o.exports,M.__wbindgen_wasm_module=n,s}const C=w('<label class="p-2">:<input class="m-2"></label>'),q=w('<div><div class="bg-slate-500 p-2"></div><div class="grid w-full h-screen"></div></div>'),D=w('<div class="h-full w-full"></div>');await M();const j=()=>{const[t,r]=F({UniverseString:"",UniverseByteArray:new Uint8Array(0),width:50,height:50,speed:100,color1:"#000000",color2:"#ffffff"});W(()=>{const n=g.new(t.height,t.width);let e=requestAnimationFrame(a),i;function a(){i=setTimeout(()=>{r({UniverseString:n.render(),UniverseByteArray:n.to_byte_array()}),n.tick(),e=requestAnimationFrame(a)},t.speed)}R(()=>{clearTimeout(i),cancelAnimationFrame(e),n.free()})});const o=n=>{const e=l=>{if(n.type==="number"){const _=l.target,c=parseInt(_.value);c>0&&r({[n.property]:c})}else r({[n.property]:l.target.value})};let i;const a=l=>{},y=l=>{clearTimeout(i),e(l)};return(()=>{const l=C.cloneNode(!0),_=l.firstChild,c=_.nextSibling;return u(l,()=>`${n.property[0].toUpperCase()}${n.property.slice(1,n.property.length)}`,_),c.$$mouseup=y,c.$$mousedown=a,c.$$input=e,c.addEventListener("change",e),v(d=>{const h=n.type,$=t[n.property],A=n.step;return h!==d._v$&&L(c,"type",d._v$=h),$!==d._v$2&&(c.value=d._v$2=$),A!==d._v$3&&L(c,"step",d._v$3=A),d},{_v$:void 0,_v$2:void 0,_v$3:void 0}),l})()};return(()=>{const n=q.cloneNode(!0),e=n.firstChild,i=e.nextSibling;return u(e,f(o,{property:"width",type:"number"}),null),u(e,f(o,{property:"height",type:"number"}),null),u(e,f(o,{property:"speed",type:"number",step:10}),null),u(e,f(o,{property:"color1",type:"color"}),null),u(e,f(o,{property:"color2",type:"color"}),null),u(i,f(E,{get each(){return Array.from(t.UniverseByteArray)},children:a=>(()=>{const y=D.cloneNode(!0);return v(l=>U(y,`background-color:${a?t.color1:t.color2}`,l)),y})()})),v(a=>U(i,`grid-template-columns: repeat(${t.width}, 1fr);`,a)),n})()};k(["input","mousedown","mouseup"]);const G=w('<div class="min-h-screen"></div>'),P=()=>(()=>{const t=G.cloneNode(!0);return u(t,f(j,{})),t})();T(()=>f(P,{}),document.getElementById("root"));
